[
    {
        "description": "knight forks king and rook",
        "context": {
            "position": "8/4r1k1/8/8/8/2PPN3/1PK5/8 w - - 0 1",
            "evaluation": {
                "eval": "5.6",
                "type": "cp",
                "move": { "from": "e3", "to": "f5" },
                "followup": "g7f6 f5e7 f6e6 c2b3 e6d6 b3c4 d6e7 c4d5"
            }
        },
        "expected": true
    },
    {
        "description": "pawn forks knight and bishop but pieces escape",
        "context": {
            "position": "8/6k1/8/3b1n2/8/4PP2/3PK3/3R4 w - - 0 1",
            "evaluation": {
                "eval": "3.5",
                "type": "cp",
                "move": { "from": "e3", "to": "e4" },
                "followup": "d5c4 d2d3 f5d4 e2e3 d4c2 e3d2 c4b3 d1g1"
            }
        },
        "expected": false
    },
    {
        "description": "bishop attacks king and rook but is captured",
        "context": {
            "position": "3k4/p7/8/r7/8/8/5B2/5KR1 w - - 0 1",
            "evaluation": {
                "eval": "-0.1",
                "type": "cp",
                "move": { "from": "f2", "to": "b6" },
                "followup": "a7b6 f1e2 a5d5 g1a1 d8d7 e2e3 b6b5 e3e4 d5c5"
            }
        },
        "expected": false
    },
    {
        "description": "knight forks king and pawn. KxB, NxP, then king moves and knight captures rook winning material",
        "context": {
            "position": "5r2/pp4kp/2p3p1/4n3/2P3P1/2NbK2P/PP2B3/3R4 b - - 5 23",
            "evaluation": {
                "eval": "-1.99",
                "type": "cp",
                "move": {
                    "from": "e5",
                    "to": "c4"
                },
                "followup": "e3d3 c4b2 d3e3 b2d1 e2d1 f8f1 h3h4 f1e1"
            }
        },
        "expected": true,
        "debug": true
    },
    {
        "description": "queen forks king and pawn to capture pawn on next move",
        "context": {
            "position": "r1bqk1nr/ppp2ppp/8/2b5/4p3/3P1N2/PP3PPP/RNBQKB1R w KQkq - 0 8",
            "evaluation": {
                "eval": "3.78",
                "type": "cp",
                "move": {
                    "from": "d1",
                    "to": "a4"
                },
                "followup": "c8d7 a4e4 g8e7 f1e2 c5b6 b1c3 d7c6 e4c4"
            }
        },
        "expected": true
    },
    {
        "description": "knight forks pawn and rook in losing position. gains 1pt material",
        "context": {
            "position": "3rr1k1/p5p1/1pp1p2p/2B1R3/3N4/7P/PPP3P1/2Kn4 w - - 0 26",
            "evaluation": {
                "eval": "-2.60",
                "type": "cp",
                "move": {
                    "from": "d4",
                    "to": "c6"
                },
                "followup": "b6c5 c6d8 e8d8 e5e6 c5c4 b2b3 c4c3 e6c6"
            }
        },
        "expected": true
    },
    {
        "description": "Protected rook forks queen and bishop",
        "context": {
            "position": "2r1r1k1/1p3ppp/p4b2/q4b2/2p2N2/P1P1BP2/1P1R1QPP/4R1K1 w - - 5 27",
            "evaluation": {
                "eval": "3.90",
                "type": "cp",
                "move": {
                    "from": "d2",
                    "to": "d5"
                },
                "followup": "a5a4 d5f5 f6e5 f4h5 a4c6 f2h4 h7h6 h4g4 g7g6 f5e5 e8e5 h5f6"
            }
        },
        "expected": true
    },
    {
        "description": "Queen forks king and rook on h4",
        "context": {
            "position": "2r3k1/5p1p/1q2bpp1/pp6/7R/1PPQ1P2/PK4PP/2R5 b - - 0 21",
            "evaluation": {
                "eval": "-4.59",
                "type": "cp",
                "move": {
                    "from": "b6",
                    "to": "f2"
                },
                "followup": "c1c2 f2h4 d3b5 h4e1 a2a4 e1d1 b5e2 d1d6 e2f2 d6h2 f3f4 h2h5"
            }
        },
        "expected": true
    },
    {
        "description": "Pawn forks queen and bishop",
        "context": {
            "position": "2r2rk1/pp1b2pp/4pp2/q1bpP3/3N1P2/P2QB3/1PP3PP/1R2R2K w - - 0 19",
            "evaluation": {
                "eval": "4.54",
                "type": "cp",
                "move": {
                    "from": "b2",
                    "to": "b4"
                },
                "followup": "a5a4 b4c5 f6e5 f4e5 c8c5 b1b7 c5c4 d3d2 c4d4 e3d4"
            }
        },
        "expected": true
    },
    {
        "description": "Pawn forks rook and bishop. Bishop desparados for pawn",
        "context": {
            "position": "1r6/8/7p/P2n4/3k2p1/2pp4/5KPP/2B1R3 b - - 0 39",
            "evaluation": {
                "eval": "-5.54",
                "type": "cp",
                "move": {
                    "from": "d3",
                    "to": "d2"
                },
                "followup": "e1d1 d4d3 a5a6 d5e3 d1d2 c3d2 c1d2 d3d2 h2h3 b8f8 f2g3 d2e2"
            }
        },
        "expected": true
    },
    {
        "id": "000rO",
        "description": "Bishop forks king and rook",
        "context": {
            "position": "3R4/8/8/KB2b3/1p6/1P2k3/3p4/8 b - - 0 58",
            "evaluation": { "move": "e5c7", "followup": ["a5b4", "c7d8"] }
        },
        "options": { "trimEndSequence": false },
        "expected": true
    },
    {
        "id": "002IE",
        "description": "Pawn capture forks knight and queen",
        "context": {
            "position": "r3brk1/5pp1/p2qpn1p/P2pn3/2pP4/2P1PN2/5PPP/RB1QK2R w KQ - 0 17",
            "evaluation": { "move": "d4e5", "followup": ["d6e7", "e5f6"] }
        },
        "options": { "trimEndSequence": false },
        "expected": true
    },
    {
        "id": "002Tf",
        "description": "Queen forks king, bishop, and pawn. Knight blocks check defending bishop. Queen captures pawn",
        "context": {
            "position": "r3kbnr/ppp1qppp/2n5/1B1pP3/5B2/4PQ2/PPP2PPP/RN2K2R b KQkq - 2 7",
            "evaluation": { "move": "e7b4", "followup": ["b1c3", "b4b2"] }
        },
        "options": { "trimEndSequence": false },
        "expected": true
    },
    {
        "id": "00Feu",
        "description": "Bishop forks queen and rook",
        "context": {
            "position": "4Rrk1/p6p/1pp2rp1/8/5B1q/4QP1P/P1P2PK1/8 w - - 3 29",
            "evaluation": { "move": "f4g5", "followup": ["h4g5", "e3g5"] }
        },
        "options": { "trimEndSequence": false },
        "expected": true
    },
    {
        "id": "00Gz6",
        "description": "Queen forks king, and knight but king moves to defend",
        "context": {
            "position": "r7/p4kp1/1p4p1/2qNn3/Q7/4PP2/PP3K2/6R1 w - - 1 26",
            "evaluation": { "move": "a4f4", "followup": ["f7e6", "f4e4", "a8f8", "g1g6"] }
        },
        "options": { "trimEndSequence": false },
        "expected": false
    },
    {
        "id": "00H2I",
        "description": "Queen forks king and bishop",
        "context": {
            "position": "4rrk1/ppp2pp1/7p/3n4/3P3q/1P2p2P/PB4P1/R2QRBK1 b - - 3 23",
            "evaluation": { "move": "h4f2", "followup": ["g1h2", "f2b2"] }
        },
        "options": { "trimEndSequence": false },
        "expected": true
    }
]
