[
    {
        "description": "pawn move indirectly traps bishop",
        "start_fen": "8/1b1r2p1/pk2p3/3pPp1p/3R1P2/bP4R1/P1P3P1/1K6 w - - 0 1",
        "evaluation": [
            {
                "eval": "1.2",
                "type": "cp",
                "move": { "from": "b3", "to": "b4" },
                "sequence": "a3b4 d4b4 b6c5 g3b3 b7c6 b4b8 d5d4 g2g3"
            }
        ],
        "expected": true
    },
    {
        "description": "pawn push traps knight in alapin sicilian",
        "start_fen": "rnbqkb1r/pp1ppppp/8/2p1P3/4n3/2P5/PP1P1PPP/RNBQKBNR w - - 0 1",
        "evaluation": [
            {
                "eval": "3.3",
                "type": "cp",
                "move": { "from": "d2", "to": "d3" },
                "sequence": "e4f2 e1f2 b8c6 g1f3 d7d5 f1e2 c8g4 h1e1"
            }
        ],
        "expected": true
    },
    {
        "description": "Bishop move traps queen on a6",
        "start_fen": "1r6/5pk1/Q3bpPp/p1q5/6P1/1PP2P2/PKR5/8 b - - 0 28",
        "evaluation": [
            {
                "eval": "-5.94",
                "type": "cp",
                "move": {
                    "from": "e6",
                    "to": "c4"
                },
                "sequence": "a6c4 c5c4 g6f7 c4f7 c2e2 a5a4 f3f4 b8b7 c3c4 f7d7 f4f5 a4b3"
            }
        ],
        "expected": true
    },
    {
        "description": "Pawn push traps bishop",
        "start_fen": "7r/p5p1/1pp1pk2/3bNp2/P2PnP2/2P1K2P/2PB2P1/R7 w - - 9 28",
        "evaluation": [
            {
                "eval": "4.12",
                "type": "cp",
                "move": {
                    "from": "c3",
                    "to": "c4"
                },
                "sequence": "c6c5 c4d5 c5d4 e3d3 h8c8 d5d6 e4d6 h3h4 d6e4 d2e1 g7g6 a4a5"
            }
        ],
        "expected": true
    },
    {
        "description": "Rook move attacks queen but does not trap it",
        "start_fen": "2r1k2r/pp1bbpp1/4p1p1/3pP3/2nN1B2/1NP5/qP3PPP/1R1QR1K1 w k - 0 17",
        "evaluation": [
            {
                "eval": "1.84",
                "type": "cp",
                "move": {
                    "from": "b1",
                    "to": "a1"
                },
                "sequence": "a2b2 d4e2 e8g8 f4c1 b2a1 b3a1 c4e5 a1c2 e5c4 h2h4 e7h4 d1d4"
            }
        ],
        "expected": false
    },
    {
        "description": "Current implentation wants to sacrifice queen for knight",
        "start_fen": "3r1rk1/pp1qbppp/8/2pN1b2/2P2Pn1/3P1R2/PP2B1PP/R1B2Q1K b - - 7 15",
        "evaluation": [
            {
                "eval": "0.64",
                "type": "cp",
                "move": {
                    "from": "h7",
                    "to": "h5"
                },
                "sequence": "h2h3 g4h6 f3e3 e7d6 e3g3 d6e7 c1e3 f5e6 d5e7 d7e7 g3g5 h6f5"
            }
        ],
        "expected": false
    },
    {
        "description": "Same as above, thinks this is a queen trap",
        "start_fen": "3r2k1/pp3ppp/5b2/2pP1q2/5PB1/3P2R1/PP4QK/R1B1r3 b - - 7 23",
        "evaluation": [
            {
                "eval": "1.49",
                "type": "cp",
                "move": {
                    "from": "f5",
                    "to": "d5"
                },
                "sequence": "g3e3 e1e3 g2d5 d8d5 c1e3 d5d3 a1e1 h7h5 g4f5 d3d8 e3c5 g7g6"
            }
        ],
        "expected": false
    },
    {
        "description": "Pawn push traps queen",
        "start_fen": "3r2k1/pp3ppp/5bq1/2pP4/5PB1/3P2R1/PP4QK/R1B1r3 w - - 8 24",
        "evaluation": [
            {
                "eval": "4.62",
                "type": "cp",
                "move": {
                    "from": "f4",
                    "to": "f5"
                },
                "sequence": "g6g4 g3g4 d8e8 h2h3 g8f8 g4e4 e8e4 d3e4 c5c4 c1f4 e1a1 e4e5"
            }
        ],
        "expected": true
    },
    {
        "description": "King cannot be a 'trapped' piece",
        "start_fen": "3r1k2/pp3Ppp/4Bb2/2pP4/8/3P3R/PP4QK/1r6 b - - 4 28",
        "evaluation": [
            {
                "eval": "-1.08",
                "type": "cp",
                "move": {
                    "from": "f6",
                    "to": "e5"
                },
                "sequence": "h3g3 b1b2 g2b2 e5b2 h2h3 b2e5 g3g5 e5f6 g5h5 h7h6 a2a4"
            }
        ],
        "expected": false
    },
    {
        "description": "Pawn recapture while knight is pinned",
        "start_fen": "r1bqk2r/pp2ppbp/2np1np1/1B6/3pP3/2P2N2/PP3PPP/RNBQR1K1 w kq - 0 8",
        "evaluation": [
            {
                "eval": "0.45",
                "type": "cp",
                "move": {
                    "from": "c3",
                    "to": "d4"
                },
                "sequence": "a7a6 b5c6 b7c6 h2h3 e8g8 b1c3 a8b8 b2b3 f6d7 c1g5 h7h6 g5e3"
            }
        ],
        "expected": false
    },
    {
        "description": "Queen recaptures bishop. Rook is defended",
        "start_fen": "r2qk2r/pbpp1ppp/1b6/3Qp3/8/2P2N2/PP2KnPP/RNB2B1R w kq - 0 10",
        "evaluation": [
            {
                "eval": "-0.64",
                "type": "cp",
                "move": {
                    "from": "d5",
                    "to": "b7"
                },
                "sequence": "f2h1 b7e4 e8g8 f3g5 f7f5 e4d5 g8h8 g2g3 d8f6 d5h1 f5f4 g3f4"
            }
        ],
        "expected": false
    },
    {
        "description": "Queen captures pawn with check",
        "start_fen": "r1b2rk1/pp4bp/2p1p1p1/3pPP1n/3P3q/3B1Q1P/PPPN2P1/R1B2RK1 b - - 0 13",
        "evaluation": [
            {
                "eval": "-2",
                "type": "cp",
                "move": {
                    "from": "h4",
                    "to": "d4"
                },
                "sequence": "f3f2 d4f2 f1f2 e6f5 d2f3 f8e8 c2c3 c8d7 c1e3 h5g3"
            }
        ],
        "expected": false
    },
    {
        "description": "Rook recaptures queen, bishop is defended",
        "start_fen": "r1bq1k1r/pp6/4p1Bb/2p2p1p/2P5/5NP1/P4P1P/1R1R2K1 w - - 0 25",
        "evaluation": [
            {
                "eval": "0.84",
                "type": "cp",
                "move": {
                    "from": "d1",
                    "to": "d8"
                },
                "sequence": "f8g7 d8h8 g7h8 b1d1 b7b5 c4b5 c5c4 f3e5 c4c3 f2f4 c8b7 d1c1"
            }
        ],
        "expected": false
    },
    {
        "description": "Pinned knight is not trapped",
        "start_fen": "2r1k2r/p3ppbp/3pbnp1/qp6/2PQP3/1PN1BP2/P5PP/2R1KB1R b Kk - 1 13",
        "evaluation": [
            {
                "eval": "-1.08",
                "type": "cp",
                "move": {
                    "from": "e8",
                    "to": "g8"
                },
                "sequence": "d4a7 a5a7 e3a7 b5c4 b3c4 g7h6 c1c2 e6c4 a7d4 e7e5 d4f2 c4a2"
            }
        ],
        "expected": false
    },
    {
        "description": "Knight blocks check while my knight is hanging",
        "start_fen": "2R3k1/p4pp1/4n2p/8/8/5QPP/q2N2K1/8 b - - 1 47",
        "evaluation": [
            {
                "eval": "4.6",
                "type": "cp",
                "move": {
                    "from": "e6",
                    "to": "f8"
                },
                "sequence": "f3e3 h6h5 g2f2"
            }
        ],
        "expected": false
    },
    {
        "description": "Queen traps rook and forces exchange sac",
        "start_fen": "r2q1rk1/pRb2ppp/1n2p3/3n4/P2P4/5N2/2QBBPPP/3R2K1 b - - 0 19",
        "evaluation": [
            {
                "eval": "-2.72",
                "type": "cp",
                "move": {
                    "from": "d8",
                    "to": "c8"
                },
                "sequence": "b7c7 c8c7 c2c7 d5c7 a4a5 b6d5 f3e5 f8b8 g2g3 f7f6 e5d7 b8b2"
            }
        ],
        "expected": true,
        "debug": true
    }
]
