[
    {
        "description": "4 attackers for white and 3 for black",
        "start_fen": "1R1KB3/1R1Q4/8/1p6/8/1r6/1q6/kr6 w - - 0 1",
        "square": "b5",
        "expected": {
            "white_verbose": [
                {
                    "value": 5,
                    "piece": "r",
                    "from": "b7"
                },
                {
                    "value": 9,
                    "piece": "q",
                    "from": "d7"
                },
                {
                    "value": 3,
                    "piece": "b",
                    "from": "e8"
                },
                {
                    "value": 5,
                    "piece": "r",
                    "from": "b8"
                }
            ],
            "white": { "p": 0, "n": 0, "b": 1, "r": 2, "q": 1, "k": 0, "total": 4 },
            "black_verbose": [
                {
                    "value": 5,
                    "piece": "r",
                    "from": "b3"
                },
                {
                    "value": 9,
                    "piece": "q",
                    "from": "b2"
                },
                {
                    "value": 5,
                    "piece": "r",
                    "from": "b1"
                }
            ],
            "black": { "p": 0, "n": 0, "b": 0, "r": 2, "q": 1, "k": 0, "total": 3 }
        }
    },
    {
        "description": "King acts as second defender",
        "start_fen": "1k6/2q5/b7/8/2N3R1/2K5/8/8 b - - 0 1",
        "square": "c4",
        "expected": {
            "white_verbose": [
                {
                    "value": 5,
                    "piece": "r",
                    "from": "g4"
                },
                {
                    "value": 10000,
                    "piece": "k",
                    "from": "c3"
                }
            ],
            "white": { "p": 0, "n": 0, "b": 0, "r": 1, "q": 0, "k": 1, "total": 2 },
            "black_verbose": [
                {
                    "value": 3,
                    "piece": "b",
                    "from": "a6"
                },
                {
                    "value": 9,
                    "piece": "q",
                    "from": "c7"
                }
            ],
            "black": { "p": 0, "n": 0, "b": 1, "r": 0, "q": 1, "k": 0, "total": 2 }
        }
    },
    {
        "description": "Pawn defends pawn",
        "start_fen": "2rk4/2r5/2r5/8/1RP5/2KP4/8/8 b - - 0 1",
        "square": "c4",
        "expected": {
            "white_verbose": [
                {
                    "value": 1,
                    "piece": "p",
                    "from": "d3"
                },
                {
                    "value": 5,
                    "piece": "r",
                    "from": "b4"
                },
                {
                    "value": 10000,
                    "piece": "k",
                    "from": "c3"
                }
            ],
            "white": { "p": 1, "n": 0, "b": 0, "r": 1, "q": 0, "k": 1, "total": 3 },
            "black_verbose": [
                {
                    "value": 5,
                    "piece": "r",
                    "from": "c6"
                },
                {
                    "value": 5,
                    "piece": "r",
                    "from": "c7"
                },
                {
                    "value": 5,
                    "piece": "r",
                    "from": "c8"
                }
            ],
            "black": { "p": 0, "n": 0, "b": 0, "r": 3, "q": 0, "k": 0, "total": 3 }
        }
    },
    {
        "description": "Defending pawn is pinned",
        "start_fen": "2rk4/2r5/2r5/8/1RP5/2KP3r/8/8 b - - 0 1",
        "square": "c4",
        "expected": {
            "white_verbose": [
                {
                    "value": 5,
                    "piece": "r",
                    "from": "b4"
                },
                {
                    "value": 10000,
                    "piece": "k",
                    "from": "c3"
                }
            ],
            "white": { "p": 0, "n": 0, "b": 0, "r": 1, "q": 0, "k": 1, "total": 2 },
            "black_verbose": [
                {
                    "value": 5,
                    "piece": "r",
                    "from": "c6"
                },
                {
                    "value": 5,
                    "piece": "r",
                    "from": "c7"
                },
                {
                    "value": 5,
                    "piece": "r",
                    "from": "c8"
                }
            ],
            "black": { "p": 0, "n": 0, "b": 0, "r": 3, "q": 0, "k": 0, "total": 3 }
        }
    },
    {
        "description": "pinned pawn prevents it from defending",
        "start_fen": "8/8/5rk1/5ppp/5B2/4Q2P/PKP4q/6R1 b - - 0 1",
        "square": "f4",
        "expected": {
            "white_verbose": [
                {
                    "value": 9,
                    "piece": "q",
                    "from": "e3"
                }
            ],
            "white": { "p": 0, "n": 0, "b": 0, "r": 0, "q": 1, "k": 0, "total": 1 },
            "black_verbose": [
                {
                    "value": 9,
                    "piece": "q",
                    "from": "h2"
                }
            ],
            "black": { "p": 0, "n": 0, "b": 0, "r": 0, "q": 1, "k": 0, "total": 1 }
        }
    }
]
